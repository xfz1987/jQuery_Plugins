<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>导航栏</title>
<style type="text/css">
#menu { 
	width:300px; 
}
.has_children{
	background : #555;
	color :#fff;
	cursor:pointer;
}
.highlight{
	color : #fff;
	background : green;
}
div{
	padding:0;
}
div a{
	background : #888;
	display : none;
	float:left;
	width:300px;
}
</style>
</head>
<body>
<div id="menu">
	<div class="has_children">
		<span>第1章-认识jQuery</span>
		<a>1.1-JavaScript和JavaScript库</a>
		<a>1.2-加入jQuery</a>
		<a>1.3-编写简单jQuery代码</a>
		<a>1.4-jQuery对象和DOM对象</a>
		<a>1.5-解决jQuery和其它库的冲突</a>
		<a>1.6-jQuery开发工具和插件</a>
		<a>1.7-小结</a>
	</div>
	<div class="has_children">
		<span>第2章-jQuery选择器</span>
		<a>2.1-jQuery选择器是什么</a>
		<a>2.2-jQuery选择器的优势</a>
		<a>2.3-jQuery选择器</a>
		<a>2.4-应用jQuery改写示例</a>
		<a>2.5-选择器中的一些注意事项</a>
		<a>2.6-案例研究——类似淘宝网品牌列表的效果</a>
		<a>2.7-还有其它选择器么？</a>
		<a>2.8-小结</a>
	</div>
	<div class="has_children">
		<span>第3章-jQuery中的DOM操作</span>
		<a>3.1-DOM操作的分类</a>
		<a>3.2-jQuery中的DOM操作</a>
		<a>3.3-案例研究——某网站超链接和图片提示效果</a>
		<a>3.4-小结</a>
	</div>
</div>
<script>
	var divs = document.getElementsByClassName("has_children");
	var lastDiv = null;
	for(var i=0,len=divs.length;i<len;i++){
		divs[i].addEventListener("click",function(e){
			var target = e.target||e.srcElement;
			var parent = target.parentNode;
			if(parent.className.indexOf("highlight") == -1){
				//关闭上一次操作的节点
				if(lastDiv != null){
					lastDiv.className = "has_children";
					var lastChildren = lastDiv.childNodes;
					for (var i=0,len=lastChildren.length;i<len;i++){
						if(lastChildren[i].nodeName == "A"){
							lastChildren[i].style.display = "none";
						}
					}
				}	

				parent.className += " highlight";
				var children = parent.childNodes;
				for(var j=0,len2=children.length;j<len2;j++){
					if(children[j].nodeName == "A"){
						children[j].style.display = "block";
					}
				}
				lastDiv = parent;
			}
		},false);
	}
</script>
</body>
</html>